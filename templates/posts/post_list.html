{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="container ">
        <div class="row" style="width: auto; margin: auto auto;">
            {% for object in object_list %}
            <div class="col-12 mb-5   post">
                            
                    <div class="card justify-content-end" data-idpost="{{object.id}}" data-url="{{object.get_absolute_url}}" >
                        
                        <div class="card-body">
                            <a class="title-href" href="{{object.get_absolute_url}}" >
                                <h5 class="card-title text-center">{{object.title}}  </h5>
                                {% if object.thumbnail %}
                                <img src="{{object.thumbnail.url}}" class="card-img mt-2 mb-2" style="text-align:center; width:33%; height:auto; display:block;margin:auto;">
                                {% endif %}
                            </a>
                            
                            <h6>
                                by<a class="href" id="author-link" href="/users/{{object.author}}/"> {{object.author}}</a>

                            </h6>
                            <p class="card-text preview">{{object.content|truncatechars:50}}</p>
                            
                            <hr>
                            <p>
                                <span>
                                    <button class="text-muted like" data-url="{{object.get_like_url}}">
                                        <i class="fas fa-thumbs-up" id="{{object.id}}"> {{object.get_like_count}} </i>
                                    </button>
                                </span>
                                <br>
                                <span><i class="fas fa-eye"></i>{{object.get_view_count}}</span>
                                <span><i class="fas fa-comments ml-5"></i>{{object.get_comment_count}}</span>
                            <!--<span><i class="fas fa-thumbs-up ml-5"></i>{{object.get_like_count}}</span>
                            <span><i class="fas fa-eye ml-5"></i>{{object.get_view_count}}</span>
                            <span><i class="fas fa-comments ml-5"></i>{{object.get_comment_count}}</span>-->
                            
                            </p>
                            <p class="card-text">
                                Posted {{object.publish_date|timesince}} ago
                            </p>
                        </div>
                      </div>
                   
            </div>
            
        {% endfor %}
        </div>
        
    </div>


{% endblock content %}

<!--
    
-->
{% block extrajs %}
<script src="{% static 'js/likes/likes_home.js' %}"></script>
<script src="{% static 'js/likes/check_url_before.js' %}"></script>


{% endblock %}